<% extend('./layouts/layout') %>   

<div class="row my-4 justify-content-center d-flex">
  <div class="col-md-9">
    <% if(hasArticle) { %>
    <% for (var prop in articles) { %>
      <div class="card mb-3">
        <div class="card-body">
          <a href="/post/<%= articles[prop].id %>"> <h2 class="text-primary"><%- articles[prop].title %></h2></a>
          <div class="d-flex flex-row text-secondary small">
            <div class="p-2"><span class="fa fa-clock-o"></span> <%- moment(articles[prop].update_time * 1000).format('YYYY/MM/DD') %></div>
            <div class="p-2"><i class="fa fa-tag" aria-hidden="true"></i> 
              <a href="#" class="text-info">
                <%  if (categories.hasOwnProperty(articles[prop].category)) { %>
                  <%= categories[articles[prop].category].name %>
                <% } else { %>
                  沒有分類
                <% } %>  
              </a>
            </div>
          </div>
          <div>
            <%- striptags(articles[prop].content).slice(0, 100) %>...
          </div>
        </div>
      </div>
    <% } %>
    <% } else { %>
      <div class="col-md-9">  
        <h2>暫無文章 :( </h2>
      </div>
    <% } %>
    <div class="col-md-9">
      <% if(hasArticle) { %>
        <%- include('partials/pagination.ejs')%>
      <% } %>
    </div>
  </div>
</div>


  